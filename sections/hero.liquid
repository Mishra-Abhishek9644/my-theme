<!-- CHANGE 1: section is now a SLIDER container -->
<section class="relative w-full h-[90vh] overflow-hidden" data-hero-slider>

  <!-- CHANGE 2: LOOP over BLOCKS instead of section.settings -->
  {% for block in section.blocks %}
    <div
      class="absolute inset-0 transition-opacity duration-1000
      {% if forloop.first %}opacity-100{% else %}opacity-0{% endif %}"
      data-slide
    >

      <!-- CHANGE 3: image now comes from block.settings -->
      {% if block.settings.bg_image != blank %}
        <img
          src="{{ block.settings.bg_image | image_url: width: 2000 }}"
          alt="Hero image"
          class="w-full h-full object-cover"
        >
      {% else %}
        <div class="w-full h-full bg-gray-200"></div>
      {% endif %}

      <!-- Overlay -->
      <div class="absolute inset-0"></div>

      <!-- Content -->
      <div class="absolute inset-0 flex items-center">
        <div class="max-w-xl px-6 pb-12 text-black">

          <!-- CHANGE 4: all text now from block.settings -->
          <h3 class="text-lg md:text-xl mb-6">
            {{ block.settings.topheading }}
          </h3>

          <h1 class="text-4xl md:text-5xl font-bold mb-4">
            {{ block.settings.heading }}
          </h1>

          <p class="text-gray-700 text-lg md:text-xl mb-6">
            {{ block.settings.subheading }}
          </p>

          {% if block.settings.button_text != blank %}
            <a
              href="{{ block.settings.button_link }}"
              class="inline-block bg-black hover:bg-[#3e5f4f] text-white rounded-sm px-6 py-3 font-medium"
            >
              {{ block.settings.button_text }}
            </a>
          {% endif %}

        </div>
      </div>

    </div>
  {% endfor %}

</section>

{% schema %}
{
  "name": "Hero Slider",
  "max_blocks": 3,
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "bg_image",
          "label": "Background image"
        },
        {
          "type": "text",
          "id": "topheading",
          "label": "Top Heading",
          "default": "Essential Items"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Beauty Inspired by Real Life"
        },
        {
          "type": "textarea",
          "id": "subheading",
          "label": "Subheading",
          "default": "Premium beauty products crafted to enhance your natural beauty."
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button text",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Slider"
    }
  ]
}
{% endschema %}
