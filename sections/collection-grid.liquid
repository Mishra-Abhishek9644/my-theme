<section class="py-16 bg-white">

  <div class="max-w-7xl mx-auto px-6 text-center mb-8">
    <h2 class="text-3xl md:text-4xl font-bold">
      {{ section.settings.heading }}
    </h2>
    {% if section.settings.subheading != blank %}
      <p class="text-gray-600 mt-2">
        {{ section.settings.subheading }}
      </p>
    {% endif %}
  </div>

  <div class="max-w-7xl mx-auto px-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6">

    {% for block in section.blocks %}
  {% assign collection = collections[block.settings.collection_handle] %}

  {% if collection %}
    <a href="{{ collection.url }}" class="group block">

      <div class="aspect-square bg-gray-100 overflow-hidden rounded-lg">
        {% if block.settings.collection_image != blank %}
          <img
            src="{{ block.settings.collection_image | image_url: width: 800 }}"
            alt="{{ block.settings.collection_title | default: collection.title }}"
            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
          >
        {% elsif collection.image != blank %}
          <img
            src="{{ collection.image | image_url: width: 800 }}"
            alt="{{ collection.title }}"
            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
          >
        {% endif %}
      </div>

      <h3 class="mt-3 text-lg font-medium text-gray-800">
        {{ block.settings.collection_title | default: collection.title }}
      </h3>

    </a>
  {% endif %}
{% endfor %}


  </div>

</section>
{% schema %}
{
  "name": "Collection Grid",
  "max_blocks": 8,
  "blocks": [
    {
      "type": "collection-card",
      "name": "Collection Card",
      "settings": [
        {
          "type": "collection",
          "id": "collection_handle",
          "label": "Select collection"
        },
        {
          "type": "text",
          "id": "collection_title",
          "label": "Title (optional)"
        },
        {
          "type": "image_picker",
          "id": "collection_image",
          "label": "Image (optional)"
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Section heading",
      "default": "Our Featured Products"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Section subheading",
      "default": "Get the skin you want to feel"
    }
  ],
  "presets": [
    {
      "name": "Collection Grid"
    }
  ]
}
{% endschema %}
